<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Usage · Measurements</title><meta name="title" content="Usage · Measurements"/><meta property="og:title" content="Usage · Measurements"/><meta property="twitter:title" content="Usage · Measurements"/><meta name="description" content="Documentation for Measurements."/><meta property="og:description" content="Documentation for Measurements."/><meta property="twitter:description" content="Documentation for Measurements."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Measurements</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../installation/">Installation</a></li><li class="is-active"><a class="tocitem" href>Usage</a><ul class="internal"><li><a class="tocitem" href="#Correlation-Between-Variables"><span>Correlation Between Variables</span></a></li><li><a class="tocitem" href="#Propagate-Uncertainty-for-Arbitrary-Functions"><span>Propagate Uncertainty for Arbitrary Functions</span></a></li><li><a class="tocitem" href="#Derivative-and-Gradient"><span>Derivative and Gradient</span></a></li><li><a class="tocitem" href="#Uncertainty-Contribution"><span>Uncertainty Contribution</span></a></li><li><a class="tocitem" href="#Standard-Score"><span>Standard Score</span></a></li><li><a class="tocitem" href="#Weighted-Average"><span>Weighted Average</span></a></li><li><a class="tocitem" href="#Access-Nominal-Value-and-Uncertainty"><span>Access Nominal Value and Uncertainty</span></a></li><li><a class="tocitem" href="#Calculating-the-Covariance-and-Correlation-Matrices"><span>Calculating the Covariance and Correlation Matrices</span></a></li><li><a class="tocitem" href="#Creating-Correlated-Measurements-from-their-Nominal-Values-and-a-Covariance-Matrix"><span>Creating Correlated Measurements from their Nominal Values and a Covariance Matrix</span></a></li><li><a class="tocitem" href="#Error-Propagation-of-Numbers-with-Units"><span>Error Propagation of Numbers with Units</span></a></li><li><a class="tocitem" href="#Representation-of-Measurements"><span>Representation of <code>Measurement</code>s</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../performance/">Performance</a></li><li><a class="tocitem" href="../todo/">Development</a></li><li><a class="tocitem" href="../appendix/">Appendix</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Usage</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Usage</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaPhysics/Measurements.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaPhysics/Measurements.jl/blob/master/docs/src/usage.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h1><p>After installing the package, you can start using it with</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Measurements</code></pre><p>The module defines a new <code>Measurement</code> data type. <code>Measurement</code> objects can be created with the two following constructors:</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.measurement" href="#Measurements.measurement"><code>Measurements.measurement</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">measurement(val::Real, [err::Real]) -&gt; Measurement
measurement(::Missing, [err::Union{Real,Missing}]) -&gt; Missing
val ± err -&gt; Measurement</code></pre><p>Return a <code>Measurement</code> object with <code>val</code> as nominal value and <code>err</code> as uncertainty.  <code>err</code> defaults to 0 if omitted.</p><p>The binary operator <code>±</code> is equivalent to <code>measurement</code>, so you can construct a <code>Measurement</code> object by explicitly writing <code>123 ± 4</code>.</p><p>If <code>val</code> is <code>missing</code>, <code>missing</code> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/Measurements.jl#L97-L109">source</a></section></article><p>where</p><ul><li><code>val</code> is the nominal value of the measurement</li><li><code>err</code> is its uncertainty, assumed to be a <a href="https://en.wikipedia.org/wiki/Standard_deviation">standard deviation</a>.</li></ul><p>They are both subtype of <code>AbstractFloat</code>. Some keyboard layouts provide an easy way to type the <code>±</code> sign, if your does not, remember you can insert it in Julia REPL with <code>\pm</code> followed by <code>TAB</code> key. You can provide <code>val</code> and <code>err</code> of any subtype of <code>Real</code> that can be converted to <code>AbstractFloat</code>. Thus, <code>measurement(42, 33//12)</code> and <code>pi ± 0.1</code> are valid.</p><p><code>measurement(value)</code> creates a <code>Measurement</code> object with zero uncertainty, like mathematical constants. See below for further examples.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Every time you use one of the constructors above you define a <em>new independent</em> measurement. Instead, when you perform mathematical operations involving <code>Measurement</code> objects you create a quantity that is not independent, but rather depends on really independent measurements.</p></div></div><p>Most mathematical operations are instructed, by <a href="https://en.wikipedia.org/wiki/Operator_overloading">operator overloading</a>, to accept <code>Measurement</code> type, and uncertainty is calculated exactly using analytic expressions of functions&#39; derivatives.</p><p>It is also possible to create a <code>Complex</code> measurement with</p><pre><code class="language-julia hljs">complex(measurement(real_part_value, real_part_uncertainty),
        measurement(imaginary_part_value, imaginary_part_uncertainty))</code></pre><p>In addition to making the code prettier, the fact that the <code>±</code> sign can be used as infix operator to define new independent <code>Measurement</code> s makes the printed representation of these objects valid Julia syntax, so you can quickly copy the output of an operation in the Julia REPL to perform other calculations. Note however that the copied number will not be the <em>same</em> object as the original one, because it will be a <em>new independent</em> measurement, without memory of the correlations of the original object.</p><p>This module extends many methods defined in Julia&#39;s mathematical standard library, and some methods from widespread third-party packages as well. This is the case for most special functions in <a href="https://github.com/JuliaMath/SpecialFunctions.jl">SpecialFunctions.jl</a> package, and the <code>quadgk</code> integration routine from <a href="https://github.com/JuliaMath/QuadGK.jl">QuadGK.jl</a> package.</p><p>Those interested in the technical details of the package, in order integrate the package in their workflow, can have a look at the <a href="#Appendix:-Technical-Details-1">technical appendix</a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.measurement-Tuple{AbstractString}" href="#Measurements.measurement-Tuple{AbstractString}"><code>Measurements.measurement</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">measurement(string) -&gt; Measurement{Float64}</code></pre><p>Parse the string and return a <code>Measurement{Float64}</code> object.</p><p>Examples of valid strings and the resulting <code>Measurement{Float64}</code> are:</p><pre><code class="language-julia-repl hljs">julia&gt; using Measurements

julia&gt; measurement(&quot;-123.4(56)&quot;)
-123.4 ± 5.6

julia&gt; measurement(&quot;+1234(56)e-1&quot;)
123.4 ± 5.6

julia&gt; measurement(&quot;12.34e-1 +- 0.56e1&quot;)
1.2 ± 5.6

julia&gt; measurement(&quot;(-1.234 ± 0.056)e2&quot;)
-123.4 ± 5.6

julia&gt; measurement(&quot;1234e-1 +/- 5.6e0&quot;)
123.4 ± 5.6

julia&gt; measurement(&quot;-1234e-1&quot;)
-123.4 ± 0.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/parsing.jl#L55-L83">source</a></section></article><p><code>measurement</code> function has also a method that enables you to create a <code>Measurement</code> object from a string.</p><div class="admonition is-warning"><header class="admonition-header">Caveat about the ± sign</header><div class="admonition-body"><p>The <code>±</code> infix operator is a convenient symbol to define quantities with uncertainty, but can lead to unexpected results if used in elaborate expressions involving many <code>±</code>s. Use parentheses where appropriate to avoid confusion. See for example the following cases:</p><pre><code class="language-julia-repl hljs">julia&gt; using Measurements

julia&gt; 7.5±1.2 + 3.9±0.9 # This is wrong!
11.4 ± 1.2 ± 0.9 ± 0.0

julia&gt; (7.5±1.2) + (3.9±0.9) # This is correct
11.4 ± 1.5</code></pre></div></div><h2 id="Correlation-Between-Variables"><a class="docs-heading-anchor" href="#Correlation-Between-Variables">Correlation Between Variables</a><a id="Correlation-Between-Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Correlation-Between-Variables" title="Permalink"></a></h2><p>The fact that two or more measurements are correlated means that there is some sort of relationship between them. In the context of measurements and error propagation theory, the term &quot;<a href="https://en.wikipedia.org/wiki/Correlation_and_dependence">correlation</a>&quot; is very broad and can indicate different things. Among others, there may be some dependence between uncertainties of different measurements with different values, or a dependence between the values of two measurements while their uncertainties are different.</p><p>Here, for correlation we mean the most simple case of functional relationship: if <span>$x = \bar{x} \pm \sigma_x$</span> is an independent measurement, a quantity <span>$y = f(x) = \bar{y} \pm \sigma_y$</span> that is function of <span>$x$</span> is not like an independent measurement but is a quantity that depends on <span>$x$</span>, so we say that <span>$y$</span> is correlated with <span>$x$</span>. The package <code>Measurements.jl</code> is able to handle this type of correlation when propagating the uncertainty for operations and functions taking two or more arguments. As a result, <span>$x - x = 0 \pm 0$</span> and <span>$x/x = 1 \pm 0$</span>.  If this correlation was not accounted for, you would always get non-zero uncertainties even for these operations that have exact results. Two truly different measurements that only by chance share the same nominal value and uncertainty are not treated as correlated.</p><h2 id="Propagate-Uncertainty-for-Arbitrary-Functions"><a class="docs-heading-anchor" href="#Propagate-Uncertainty-for-Arbitrary-Functions">Propagate Uncertainty for Arbitrary Functions</a><a id="Propagate-Uncertainty-for-Arbitrary-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Propagate-Uncertainty-for-Arbitrary-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.@uncertain" href="#Measurements.@uncertain"><code>Measurements.@uncertain</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@uncertain f(value ± stddev, ...)</code></pre><p>A macro to calculate <code>f(value) ± uncertainty</code>, with <code>uncertainty</code> derived from <code>stddev</code> according to rules of linear error propagation theory.</p><p>Function <code>f</code> can accept any number of real arguments.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/math.jl#L142-L149">source</a></section></article><p>Existing functions implemented exclusively in Julia that accept <code>AbstractFloat</code> arguments will work out-of-the-box with <code>Measurement</code> objects as long as they internally use functions already supported by this package. However, there are functions that take arguments that are specific subtypes of <code>AbstractFloat</code>, or are implemented in such a way that does not play nicely with <code>Measurement</code> variables.</p><p>The package provides the <code>@uncertain</code> macro that overcomes this limitation and further extends the power of <code>Measurements.jl</code>.</p><p>This macro allows you to propagate uncertainty in arbitrary functions, including those based on <a href="https://docs.julialang.org/en/v1/manual/calling-c-and-fortran-code/">C/Fortran calls</a>, that accept any number of real arguments. The macro exploits <code>derivative</code> and <code>gradient</code> functions from <a href="https://github.com/JuliaMath/Calculus.jl">Calculus</a> package in order to perform numerical differentiation.</p><h2 id="Derivative-and-Gradient"><a class="docs-heading-anchor" href="#Derivative-and-Gradient">Derivative and Gradient</a><a id="Derivative-and-Gradient-1"></a><a class="docs-heading-anchor-permalink" href="#Derivative-and-Gradient" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.derivative" href="#Measurements.derivative"><code>Measurements.derivative</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">derivative(x::Measurement, y::Measurement)</code></pre><p>Return the value of the partial derivative of <code>x</code> with respect to the independent measurement <code>y</code>, calculated on the nominal value of <code>y</code>.  Return zero if <code>x</code> does not depend on <code>y</code>.</p><p>Use <code>Measurements.derivative.(x, array)</code> to calculate the gradient of <code>x</code> with respect to an array of independent measurements.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L45-L54">source</a></section></article><p>In order to propagate the uncertainties, <code>Measurements.jl</code> keeps track of the partial derivative of an expression with respect to all independent measurements from which the expression comes. For this reason, the package provides a convenient function, <code>Measurements.derivative</code>, to get the partial derivative and the gradient of an expression with respect to independent measurements.</p><h2 id="Uncertainty-Contribution"><a class="docs-heading-anchor" href="#Uncertainty-Contribution">Uncertainty Contribution</a><a id="Uncertainty-Contribution-1"></a><a class="docs-heading-anchor-permalink" href="#Uncertainty-Contribution" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.uncertainty_components" href="#Measurements.uncertainty_components"><code>Measurements.uncertainty_components</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Measurements.uncertainty_components(x::Measurement)</code></pre><p>Return the components to the uncertainty of the dependent quantity <code>x</code> in the form of a <code>Dict</code> for all the independent <code>Measurement</code>s from which <code>x</code> is derived.</p><p>The key of each entry of the dictionary is the triplet (value, uncertainty, tag) of an independent <code>Measurement</code>, and the value is the absolute value of the product between its uncertainty and the partial derivative of <code>x</code> with respect to this <code>Measurement</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L89-L100">source</a></section></article><p>You may want to inspect which measurement contributes most to the total uncertainty of a derived quantity, in order to minimize it, if possible.  The function <code>Measurements.uncertainty_components</code> gives you a dictionary whose values are the components of the uncertainty of <code>x</code>.</p><h2 id="Standard-Score"><a class="docs-heading-anchor" href="#Standard-Score">Standard Score</a><a id="Standard-Score-1"></a><a class="docs-heading-anchor-permalink" href="#Standard-Score" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.stdscore" href="#Measurements.stdscore"><code>Measurements.stdscore</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stdscore(measure::Measurement, expected_value::Real) -&gt; standard_score</code></pre><p>Gives the standard score between a measure, with uncertainty, and its expected value:</p><pre><code class="nohighlight hljs">(measure.val - expected_value)/measure.err</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L5-L12">source</a></section><section><div><pre><code class="language-julia hljs">stdscore(measure_1::Measurement, measure_2::Measurement) -&gt; standard_score</code></pre><p>Gives the standard score between two measurements (both with uncertainty) computed as the standard score between their difference and 0:</p><pre><code class="nohighlight hljs">stdscore(measure_1 - measure_2, 0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L15-L22">source</a></section></article><p>The <code>stdscore</code> function is available to calculate the <a href="https://en.wikipedia.org/wiki/Standard_score">standard score</a> between a measurement and its expected value (not a <code>Measurement</code>). When both arguments are <code>Measurement</code> objects, the standard score between their difference and zero is computed, in order to test their compatibility.</p><h2 id="Weighted-Average"><a class="docs-heading-anchor" href="#Weighted-Average">Weighted Average</a><a id="Weighted-Average-1"></a><a class="docs-heading-anchor-permalink" href="#Weighted-Average" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.weightedmean" href="#Measurements.weightedmean"><code>Measurements.weightedmean</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">weightedmean(iterable) -&gt; measurement(weighted_mean, standard_deviation)</code></pre><p>Return the weighted mean of measurements listed in <code>iterable</code>, using inverse-variance weighting.  NOTA BENE: correlation is not taken into account.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L27-L32">source</a></section></article><p><code>weightedmean</code> function gives the <a href="https://en.wikipedia.org/wiki/Weighted_arithmetic_mean">weighted mean</a> of a set of measurements using <a href="https://en.wikipedia.org/wiki/Inverse-variance_weighting">inverses of variances as weights</a>. Use <code>mean</code> for the simple arithmetic mean.</p><h2 id="Access-Nominal-Value-and-Uncertainty"><a class="docs-heading-anchor" href="#Access-Nominal-Value-and-Uncertainty">Access Nominal Value and Uncertainty</a><a id="Access-Nominal-Value-and-Uncertainty-1"></a><a class="docs-heading-anchor-permalink" href="#Access-Nominal-Value-and-Uncertainty" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.value" href="#Measurements.value"><code>Measurements.value</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Measurements.value(x::Measurement)
Measurements.value(x::Complex{Measurement})
Measurements.value(x::Missing)</code></pre><p>Return the nominal value of measurement <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L71-L77">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.uncertainty" href="#Measurements.uncertainty"><code>Measurements.uncertainty</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Measurements.uncertainty(x::Measurement)
Measurements.uncertainty(x::Complex{Measurement})
Measurements.uncertainty(x::Missing)</code></pre><p>Return the uncertainty of measurement <code>x</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L80-L86">source</a></section></article><p>As explained in the technical appendix, the nominal value and the uncertainty of <code>Measurement</code> objects are stored in <code>val</code> and <code>err</code> fields respectively, but you do not need to use those fields directly to access this information. Functions <code>Measurements.value</code> and <code>Measurements.uncertainty</code> allow you to get the nominal value and the uncertainty of <code>x</code>, be it a single measurement or an array of measurements. They are particularly useful in the case of complex measurements or arrays of measurements.</p><h2 id="Calculating-the-Covariance-and-Correlation-Matrices"><a class="docs-heading-anchor" href="#Calculating-the-Covariance-and-Correlation-Matrices">Calculating the Covariance and Correlation Matrices</a><a id="Calculating-the-Covariance-and-Correlation-Matrices-1"></a><a class="docs-heading-anchor-permalink" href="#Calculating-the-Covariance-and-Correlation-Matrices" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.cov" href="#Measurements.cov"><code>Measurements.cov</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Measurements.cov(x::AbstractVector{&lt;:Measurement})</code></pre><p>Returns the covariance matrix of a vector of correlated <code>Measurement</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L109-L113">source</a></section><section><div><pre><code class="language-julia hljs">Measurements.cov(a::Measurement, b::Measurement)</code></pre><p>Returns the (scalar) covariance between <code>Measurment</code>s <code>a</code> and <code>b</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L125-L129">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.cor" href="#Measurements.cor"><code>Measurements.cor</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Measurements.cor(x::AbstractVector{&lt;:Measurement})</code></pre><p>Returns the correlation matrix of a vector of correlated <code>Measurement</code>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L137-L141">source</a></section><section><div><pre><code class="language-julia hljs">Measurements.cor(a::Measurement, b::Measurement)</code></pre><p>Returns the (scalar) correlation between <code>Measurment</code>s <code>a</code> and <code>b</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L148-L152">source</a></section></article><p>The <a href="https://en.wikipedia.org/wiki/Covariance_matrix">covariance matrix</a> of multiple measurements can be calculated using the <code>cov</code> function by supplying a vector of <code>Measurement</code>s. Likewise, the <a href="https://en.wikipedia.org/wiki/Correlation#Correlation_matrices">correlation matrix</a> can be calculated using the <code>cor</code> function with the same signature.</p><h2 id="Creating-Correlated-Measurements-from-their-Nominal-Values-and-a-Covariance-Matrix"><a class="docs-heading-anchor" href="#Creating-Correlated-Measurements-from-their-Nominal-Values-and-a-Covariance-Matrix">Creating Correlated Measurements from their Nominal Values and a Covariance Matrix</a><a id="Creating-Correlated-Measurements-from-their-Nominal-Values-and-a-Covariance-Matrix-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-Correlated-Measurements-from-their-Nominal-Values-and-a-Covariance-Matrix" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Measurements.correlated_values" href="#Measurements.correlated_values"><code>Measurements.correlated_values</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Measurements.correlated_values(
    nominal_values::AbstractVector{&lt;:Real},
    covariance_matrix::AbstractMatrix{&lt;:Real}
)</code></pre><p>Returns correlated <code>Measurement</code>s given their nominal values and their covariance matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L155-L163">source</a></section><section><div><pre><code class="language-julia hljs">Measurements.correlated_values(
    nominal_values::AbstractVector{&lt;:Real},
    standard_deviations::AbstractVector{&lt;:Real},
    correlation_matrix::AbstractMatrix{&lt;:Real}
)</code></pre><p>Returns correlated <code>Measurement</code>s given their nominal values, their standard deviations and their correlation matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaPhysics/Measurements.jl/blob/ece302111abec209ce4f90bbf169bce410f7f79a/src/utils.jl#L178-L187">source</a></section></article><p>Given some nominal values with an associated covariance matrix, you can construct measurements with a correlated uncertainty. Providing both an <code>AbstractVector{&lt;:Real}</code> of nominal values and a covariance matrix of type <code>AbstractMatrix{&lt;:Real}</code>.</p><h2 id="Error-Propagation-of-Numbers-with-Units"><a class="docs-heading-anchor" href="#Error-Propagation-of-Numbers-with-Units">Error Propagation of Numbers with Units</a><a id="Error-Propagation-of-Numbers-with-Units-1"></a><a class="docs-heading-anchor-permalink" href="#Error-Propagation-of-Numbers-with-Units" title="Permalink"></a></h2><p><code>Measurements.jl</code> does not know about <a href="https://en.wikipedia.org/wiki/Units_of_measurement">units of measurements</a>, but can be easily employed in combination with other Julia packages providing this feature. Thanks to the <a href="https://docs.julialang.org/en/v1/manual/types/">type system</a> of Julia programming language this integration is seamless and comes for free, no specific work has been done by the developer of the present package nor by the developers of the above mentioned packages in order to support their interplay. They all work equally good with <code>Measurements.jl</code>, you can choose the library you prefer and use it. Note that only <a href="https://en.wikipedia.org/wiki/Algebraic_operation">algebraic functions</a> are allowed to operate with numbers with units of measurement, because <a href="https://en.wikipedia.org/wiki/Transcendental_function">transcendental functions</a> operate on <a href="https://en.wikipedia.org/wiki/Dimensionless_quantity">dimensionless quantities</a>. In the Examples section you will find how this feature works with a couple of packages.</p><h2 id="Representation-of-Measurements"><a class="docs-heading-anchor" href="#Representation-of-Measurements">Representation of <code>Measurement</code>s</a><a id="Representation-of-Measurements-1"></a><a class="docs-heading-anchor-permalink" href="#Representation-of-Measurements" title="Permalink"></a></h2><h3 id="Measurements-in-the-REPL"><a class="docs-heading-anchor" href="#Measurements-in-the-REPL"><code>Measurement</code>s in the REPL</a><a id="Measurements-in-the-REPL-1"></a><a class="docs-heading-anchor-permalink" href="#Measurements-in-the-REPL" title="Permalink"></a></h3><p>When working in the <a href="https://docs.julialang.org/en/v1/stdlib/REPL/">Julia REPL</a>, <code>Measurement</code> objects are shown truncated in order to present two significant digits for the uncertainty:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Measurements</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; -84.32 ± 5.6</code><code class="nohighlight hljs ansi" style="display:block;">-84.3 ± 5.6</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; 7.9 ± 18.6</code><code class="nohighlight hljs ansi" style="display:block;">7.9 ± 19.0</code></pre><p>Note that truncation only affects the numbers shown in the REPL:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Measurements</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Measurements.value(7.9 ± 18.6)</code><code class="nohighlight hljs ansi" style="display:block;">7.9</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; Measurements.uncertainty(7.9 ± 18.6)</code><code class="nohighlight hljs ansi" style="display:block;">18.6</code></pre><h3 id="Printing-to-TeX-and-LaTeX-MIMEs"><a class="docs-heading-anchor" href="#Printing-to-TeX-and-LaTeX-MIMEs">Printing to TeX and LaTeX MIMEs</a><a id="Printing-to-TeX-and-LaTeX-MIMEs-1"></a><a class="docs-heading-anchor-permalink" href="#Printing-to-TeX-and-LaTeX-MIMEs" title="Permalink"></a></h3><p>You can print <code>Measurement</code> objects to TeX and LaTeX MIMES (<code>&quot;text/x-tex&quot;</code> and <code>&quot;text/x-latex&quot;</code>), the <code>±</code> sign will be rendered with <code>\pm</code> command:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Measurements</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; repr(&quot;text/x-tex&quot;, 5±1)</code><code class="nohighlight hljs ansi" style="display:block;">&quot;5.0 \\pm 1.0&quot;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; repr(&quot;text/x-latex&quot;, pi ± 1e-3)</code><code class="nohighlight hljs ansi" style="display:block;">&quot;3.1416 \\pm 0.001&quot;</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../installation/">« Installation</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Tuesday 6 May 2025 16:11">Tuesday 6 May 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
